{% extends 'layout.html.twig' %}

{% block ogtags %}
    <meta property="og:title" content="Search{% if initialQuery %} - {{ initialQuery }}{% endif %} - Newsroom">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ app.request.uri }}">
    <meta property="og:description" content="Search for hidden gems on Newsroom">
    <meta property="og:site_name" content="Newsroom">

    {# JSON-LD Structured Data for Search Page #}
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SearchResultsPage",
        "name": "Search{% if initialQuery %} - {{ initialQuery }}{% endif %}",
        "description": "Search for hidden gems on Newsroom",
        "url": {{ app.request.uri|json_encode|raw }},
        "isPartOf": {
            "@type": "WebSite",
            "name": "Newsroom",
            "url": "{{ url('home') }}"
        },
        "potentialAction": {
            "@type": "SearchAction",
            "target": {
                "@type": "EntryPoint",
                "urlTemplate": "{{ url('app_search_index') }}?q={search_term_string}"
            },
            "query-input": "required name=search_term_string"
        }{% if initialQuery %},
        "query": {{ initialQuery|json_encode|raw }}
        {% endif %}
    }
    </script>
{% endblock %}

{% block nav %}
{% endblock %}

{% block body %}
    <twig:Atoms:PageHeading
        heading="Search"
        tagline="for hidden gems" />
    <section>
        <twig:SearchComponent :query="initialQuery" />
    </section>
{% endblock %}

{% block aside %}
    <twig:Atoms:ForumAside />
{% endblock %}
