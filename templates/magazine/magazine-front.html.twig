{% extends 'layout.html.twig' %}

{% block body %}
    <twig:Organisms:MagazineHero :magazine="magazine" :mag="mag" />

    {# Compute categoryTags for FeaturedList rendering (hero has its own internal copy) #}
    {% set categoryTags = [] %}
    {% if magazine.tags is defined %}
        {% for tag in magazine.tags %}
            {% if tag[0] is defined and tag[0] == 'a' %}
                {% set categoryTags = categoryTags|merge([tag]) %}
            {% endif %}
        {% endfor %}
    {% endif %}

    <section class="mb-5">
        {% if categoryTags is not empty %}
            {% for cat in categoryTags %}
                <twig:Organisms:FeaturedList category="{{ cat }}" class="featured-list"/>
            {% endfor %}
        {% endif %}
    </section>
{% endblock %}
