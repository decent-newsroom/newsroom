<div {{ attributes }}>
    <h2>Title: <b>{{ draft.title ?: 'Reading List' }}</b></h2>
    <p><small>Slug: {{ draft.slug }}</small></p>

  {% if draft.summary %}<p>{{ draft.summary }}</p>{% endif %}

  <h3 class="mt-4">Articles</h3>
  {% if draft.articles is not empty %}
    <ul class="small">
      {% for coord in draft.articles %}
        <li class="d-flex justify-content-between align-items-center gap-2">
          <code class="flex-fill">{{ coord }}</code>
          <button class="btn btn-sm btn-outline-danger" data-action="live#action" data-live-action-param="remove" data-live-coordinate-param="{{ coord }}">Remove</button>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p><small>No articles yet. Use search or paste an naddr to add some.</small></p>
  {% endif %}

    <div class="mt-3">
        <form class="d-flex gap-3" data-action="live#action:prevent" data-live-action-param="addNaddr">
            <label>
                <input
                    type="text"
                    placeholder="Paste article naddr (nostr:naddr1...)"
                    class="form-control form-control-sm"
                    data-model="norender|naddrInput"
                    value="{{ naddrInput }}"
                />
            </label>
            <div class="actions">
                <button class="btn btn-sm btn-secondary">Add</button>
            </div>
        </form>
        {% if naddrError %}<div class="small text-danger mt-1">{{ naddrError }}</div>{% endif %}
        {% if naddrSuccess %}<div class="small text-success mt-1">{{ naddrSuccess }}</div>{% endif %}
    </div>

  <div class="mt-3">
    <a class="btn btn-primary" href="{{ path('read_wizard_review') }}">Review & Sign</a>
  </div>
</div>
