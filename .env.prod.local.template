# Production Environment Configuration
# =====================================
#
# Copy this file to `.env.prod.local` and fill in your production values.
# This file should NEVER be committed to version control.
#
# Generate secure values:
#   openssl rand -hex 32     # For secrets/keys
#   openssl rand -base64 24  # For passwords
#
# Deploy with:
#   docker compose -f compose.yaml -f compose.prod.yaml --env-file .env.prod.local up -d

# =============================================================================
# REQUIRED CHANGES - You MUST customize these for production
# =============================================================================

# Application
APP_ENV=prod
APP_SECRET=CHANGE_ME_RUN_openssl_rand_hex_32

# Domain (your actual domain - enables automatic Let's Encrypt TLS)
SERVER_NAME=your-domain.com

# Database password (use a strong random password)
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# Mercure JWT secret
MERCURE_JWT_SECRET=CHANGE_ME_RUN_openssl_rand_hex_32

# Redis password
REDIS_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# Nostr relay domain (needs DNS A record pointing to your server)
RELAY_DOMAIN=relay.your-domain.com

# Support/Unfold domain
UNFOLD_HOST=support.your-domain.com
SUPPORT_DOMAIN=support.your-domain.com

# Contribution / Active Indexing (npub and lightning address for payments)
PROJECT_CONTRIBUTION_NPUB=npub1...
PROJECT_CONTRIBUTION_LUD16=your-lightning@address.com

# =============================================================================
# OPTIONAL - Customize if needed (defaults work for most setups)
# =============================================================================

# Database
# POSTGRES_DB=newsroom_db
# POSTGRES_USER=newsroom

# Trusted hosts regex (recommended for security)
# TRUSTED_HOSTS=^(your-domain\.com|relay\.your-domain\.com)$

# Redis (if using external Redis server)
# REDIS_HOST=your-redis-host
# REDIS_PORT=6379

# Elasticsearch (if enabled)
# ELASTICSEARCH_ENABLED=true
# ELASTICSEARCH_HOST=your-elasticsearch-host
# ELASTICSEARCH_PASSWORD=your-elasticsearch-password

# Nostr relay sync settings
# RELAY_UPSTREAMS="wss://relay.snort.social wss://relay.damus.io"
# RELAY_DAYS_ARTICLES=7
# RELAY_DAYS_THREADS=3
